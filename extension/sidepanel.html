<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Vaulty Agent</title>
    <link rel="stylesheet" href="sidepanel.css" />
  </head>
  <body>
    <!-- Auth screen â€” shown until user is logged in -->
    <div id="auth-screen">
      <div class="auth-card">
        <div class="auth-brand">Vaulty</div>
        <div class="auth-tagline">Agent</div>
        <h2 class="auth-title">Sign in</h2>
        <p class="auth-subtitle">Paid subscription required</p>
        <input id="auth-email" class="input" type="email" placeholder="Email" autocomplete="username" />
        <input id="auth-password" class="input" type="password" placeholder="Password" autocomplete="current-password" />
        <button id="auth-submit" class="btn auth-btn">Sign In</button>
        <p id="auth-error" class="auth-error hidden"></p>
        <p class="auth-footer">
          No account or need to upgrade?
          <a href="https://vaulty.ca/plans" target="_blank" rel="noopener">View plans</a>
        </p>
      </div>
    </div>

    <!-- Main app â€” hidden until authenticated -->
    <div id="main-app" class="hidden">
      <div class="wrap">
        <div class="panel-header">
          <div>
            <div class="brand">Vaulty</div>
            <div class="version">Agent</div>
          </div>
          <button id="auth-logout" class="btn-logout" title="Sign out">Sign out</button>
        </div>
        <div class="tabs">
          <button class="tab active" data-tab="apply">Apply</button>
          <button class="tab" data-tab="copilot">Copilot</button>
          <button class="tab" data-tab="profile">Profile</button>
          <button class="tab" data-tab="settings">Settings</button>
        </div>

        <!-- Apply Tab -->
        <div id="tab-apply" class="tab-content active">
          <div class="aa-status-box" id="status-box">
            <span id="status-icon">ðŸ’¤</span>
            <span id="status-text">Ready. Open a form page and click Fill.</span>
          </div>
          <div class="apply-action-wrap">
            <button id="btn-fill" class="apply-circle-btn">Fill This Form</button>
          </div>
        </div>

        <!-- Copilot Tab -->
        <div id="tab-copilot" class="tab-content">
          <div class="section-title">Copilot</div>
          <p class="hint">Summarize, interactive quizzes and draft emails</p>
          <div id="copilotPageInfo" class="copilot-page-info hidden"></div>
          <div id="copilotLoading" class="copilot-loading hidden">
            <div class="skeleton-line"></div>
            <div class="skeleton-line"></div>
            <div class="skeleton-line short"></div>
          </div>
          <div id="copilotResult" class="copilot-card copilot-result hidden"></div>
          <div class="copilot-action-wrap">
            <button id="copilotSummarize" class="copilot-circle-btn">Assist me here</button>
          </div>
        </div>

        <!-- Profile Tab -->
        <div id="tab-profile" class="tab-content">
          <div class="section-title">Personal</div>
          <div class="row">
            <div class="field"><label class="label">First Name</label><input id="profile-firstName" class="input" placeholder="John" /></div>
            <div class="field"><label class="label">Last Name</label><input id="profile-lastName" class="input" placeholder="Doe" /></div>
          </div>
          <label class="label">Email</label>
          <input id="profile-email" class="input" type="email" placeholder="john@example.com" />
          <label class="label">Phone</label>
          <input id="profile-phone" class="input" type="tel" placeholder="+1 555 123 4567" />
          <div class="section-title">EEO / Demographics (Optional)</div>
          <label class="label">Gender</label>
          <select id="profile-gender" class="input">
            <option value="">â€”</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Non-binary">Non-binary</option>
            <option value="Prefer not to say">Prefer not to say</option>
            <option value="Decline to self-identify">Decline to self-identify</option>
          </select>
          <label class="label">Race / Ethnicity</label>
          <select id="profile-raceEthnicity" class="input">
            <option value="">â€”</option>
            <option value="American Indian or Alaska Native">American Indian or Alaska Native</option>
            <option value="Asian">Asian</option>
            <option value="Black or African American">Black or African American</option>
            <option value="Hispanic or Latino">Hispanic or Latino</option>
            <option value="Native Hawaiian or Other Pacific Islander">Native Hawaiian or Other Pacific Islander</option>
            <option value="White">White</option>
            <option value="Two or more races">Two or more races</option>
            <option value="Prefer not to say">Prefer not to say</option>
            <option value="Decline to self-identify">Decline to self-identify</option>
          </select>
          <label class="label">Veteran Status</label>
          <select id="profile-veteranStatus" class="input">
            <option value="">â€”</option>
            <option value="I am a protected veteran">I am a protected veteran</option>
            <option value="I am not a protected veteran">I am not a protected veteran</option>
            <option value="Prefer not to say">Prefer not to say</option>
            <option value="Decline to self-identify">Decline to self-identify</option>
          </select>
          <div class="section-title">Address</div>
          <label class="label">Street</label>
          <input id="profile-street" class="input" placeholder="123 Main St" />
          <label class="label">Apt/Suite</label>
          <input id="profile-street2" class="input" placeholder="Apt 4B" />
          <div class="row">
            <div class="field"><label class="label">City</label><input id="profile-city" class="input" placeholder="San Francisco" /></div>
            <div class="field"><label class="label">State</label><input id="profile-state" class="input" placeholder="CA" /></div>
          </div>
          <div class="row">
            <div class="field"><label class="label">ZIP</label><input id="profile-zipCode" class="input" placeholder="94102" /></div>
            <div class="field"><label class="label">Country</label><input id="profile-country" class="input" placeholder="USA" /></div>
          </div>
          <div class="section-title">Links</div>
          <label class="label">LinkedIn</label>
          <input id="profile-linkedIn" class="input" placeholder="https://linkedin.com/in/johndoe" />
          <label class="label">Website</label>
          <input id="profile-website" class="input" placeholder="https://johndoe.com" />
          <button id="saveProfile" class="btn">Save Profile</button>
          <button id="clearProfile" class="btn secondary">Clear All</button>
          <div id="profileStatus" class="status-msg"></div>
        </div>

        <!-- Settings Tab -->
        <div id="tab-settings" class="tab-content">
          <div class="section-title">API Configuration</div>
          <label class="label">Backend URL</label>
          <input id="settings-apiBase" class="input" placeholder="https://agent.vaulty.ca" />
          <button id="saveSettings" class="btn">Save Settings</button>
          <div id="settingsStatus" class="status-msg"></div>
          <hr />
          <div class="section-title">Debug</div>
          <button id="exportProfile" class="btn secondary">Export Profile</button>
          <button id="viewStorage" class="btn secondary">View Storage</button>
        </div>
      </div>
    </div>
    <script src="sidepanel.js"></script>
  </body>
</html>
